{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap eb4e6649beb517ff9d88","webpack:///external {\"commonjs\":\"lodash\",\"amd\":\"lodash\",\"root\":\"_\"}","webpack:///./src/index.js"],"names":["detectArrayOfObject","pathElement","parsePathElement","elements","objectString","key","id","value","undefined","getFromPath","origin","path","normalizePath","pathElements","newValue","result","newPathArray","newPath","valueFromKey","newIndex","objectInArray","normalizedGetFunction","normalizedPath","normalizedGet","normalizedSetFunction","data","newOrigin","normalizedSet","normalizedUpdateFunction","updateFunction","oldData","newData","normalizedUpdate"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(undefined));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"index\", [\"lodash\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"index\"] = factory(require(\"lodash\"));\n\telse\n\t\troot[\"index\"] = factory(root[\"_\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap eb4e6649beb517ff9d88","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"lodash\",\"amd\":\"lodash\",\"root\":\"_\"}\n// module id = 0\n// module chunks = 0","import {\n  get,\n  reduce,\n  split,\n  includes,\n  endsWith,\n  isEqual,\n  toString,\n  trim,\n  findIndex,\n  concat,\n  join,\n  curry,\n  cloneDeep,\n  set,\n} from 'lodash';\n\nexport const detectArrayOfObject = pathElement => (\n  includes(pathElement, '[{') && endsWith(pathElement, '}]')\n);\n\nexport const parsePathElement = (pathElement) => {\n  if (detectArrayOfObject(pathElement)) {\n    const elements = split(pathElement, '[{');\n    const objectString = trim(elements[1], '[{}]');\n    const key = elements[0];\n    const id = split(objectString, ':')[0];\n    const value = split(objectString, ':')[1];\n    return {\n      key,\n      id,\n      value,\n    };\n  }\n  return undefined;\n};\n\nconst getFromPath = (origin, path) => {\n  if (!path) {\n    return origin;\n  }\n  return get(origin, path);\n};\n\n// Path shapes:\n// a.b\n// a[0].b\n// a[{id:1}].b\n// [0].b\nexport const normalizePath = (origin, path = '') => {\n  const pathElements = split(path, '.');\n  const newValue = reduce(pathElements, (result, pathElement) => {\n    if (detectArrayOfObject(pathElement)) {\n      const { key, id, value } = parsePathElement(pathElement);\n\n      const newPathArray = key ? concat(result, key) : result;\n      const newPath = join(newPathArray, '.');\n      const valueFromKey = getFromPath(origin, newPath);\n      const newIndex = findIndex(valueFromKey, objectInArray => (\n        isEqual(toString(objectInArray[id]), value)\n      ));\n\n      return concat(result, `${key}[${newIndex}]`);\n    }\n    return concat(result, pathElement);\n  }, []);\n  return join(newValue, '.');\n};\n\n// NormalizeGet\nexport const normalizedGetFunction = (path, origin) => {\n  const normalizedPath = normalizePath(origin, path);\n  return get(origin, normalizedPath);\n};\nexport const normalizedGet = curry(normalizedGetFunction);\n\n// NormalizeSet\nexport const normalizedSetFunction = (path, data, origin) => {\n  const normalizedPath = normalizePath(origin, path);\n  const newOrigin = cloneDeep(origin);\n  set(newOrigin, normalizedPath, data);\n  return newOrigin;\n};\nexport const normalizedSet = curry(normalizedSetFunction);\n\n\n// NormalizeUpdate\nexport const normalizedUpdateFunction = (path, updateFunction, origin) => {\n  const normalizedPath = normalizePath(origin, path);\n  const newOrigin = cloneDeep(origin);\n  const oldData = get(origin, normalizedPath);\n  const newData = updateFunction(oldData);\n  set(newOrigin, normalizedPath, newData);\n  return newOrigin;\n};\nexport const normalizedUpdate = curry(normalizedUpdateFunction);\n\n\nexport default normalizePath;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}